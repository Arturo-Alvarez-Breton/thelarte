-- Script completo para crear la base de datos correctamente basado en los modelos Java
-- Este script corrige todas las discrepancias encontradas entre backup.sql y los modelos

-- ===== LIMPIEZA INICIAL =====
-- Eliminar tablas existentes si existen (en orden correcto para evitar errores de FK)
DROP TABLE IF EXISTS "PUBLIC"."USER_ROLES" CASCADE;
DROP TABLE IF EXISTS "PUBLIC"."USERS" CASCADE;
DROP TABLE IF EXISTS "PUBLIC"."MOVIMIENTOS_PRODUCTO" CASCADE;
DROP TABLE IF EXISTS "PUBLIC"."LINEAS_DEVOLUCION" CASCADE;
DROP TABLE IF EXISTS "PUBLIC"."DEVOLUCIONES" CASCADE;
DROP TABLE IF EXISTS "PUBLIC"."PAGOS" CASCADE;
-- DROP TABLE IF EXISTS "PUBLIC"."LINEAS_TRANSACCION" CASCADE;
-- DROP TABLE IF EXISTS "PUBLIC"."TRANSACCIONES" CASCADE;
DROP TABLE IF EXISTS "PUBLIC"."PRODUCTO" CASCADE;
DROP TABLE IF EXISTS "PUBLIC"."SUPLIDOR_TELEFONOS" CASCADE;
DROP TABLE IF EXISTS "PUBLIC"."SUPLIDOR" CASCADE;
DROP TABLE IF EXISTS "PUBLIC"."CLIENTES" CASCADE;
DROP TABLE IF EXISTS "PUBLIC"."EMPLEADOS" CASCADE;
DROP TABLE IF EXISTS "PUBLIC"."PERSONAS" CASCADE;

-- ===== CREACIÓN DE TABLAS CORREGIDAS =====

-- 1. Tabla EMPLEADOS (corregida con campo DELETED)
CREATE TABLE "PUBLIC"."EMPLEADOS"(
    "CEDULA" CHARACTER VARYING(20) NOT NULL,
    "APELLIDO" CHARACTER VARYING(255) NOT NULL,
    "COMISION" FLOAT(24),
    "EMAIL" CHARACTER VARYING(255),
    "FECHA_CONTRATACION" DATE NOT NULL,
    "NOMBRE" CHARACTER VARYING(255) NOT NULL,
    "ROL" ENUM('ADMIN', 'CAJERO', 'COMERCIAL', 'TI') NOT NULL,
    "SALARIO" FLOAT(24) NOT NULL,
    "TELEFONO" CHARACTER VARYING(255) NOT NULL,
    "DELETED" BOOLEAN DEFAULT FALSE NOT NULL
);
ALTER TABLE "PUBLIC"."EMPLEADOS" ADD CONSTRAINT "CONSTRAINT_EMPLEADOS_PK" PRIMARY KEY("CEDULA");
ALTER TABLE "PUBLIC"."EMPLEADOS" ADD CONSTRAINT "UK_EMPLEADOS_EMAIL" UNIQUE("EMAIL");

-- 2. Tabla CLIENTES (corregida con campo DELETED)
CREATE TABLE "PUBLIC"."CLIENTES"(
    "CEDULA" CHARACTER VARYING(20) NOT NULL,
    "APELLIDO" CHARACTER VARYING(255) NOT NULL,
    "DIRECCION" CHARACTER VARYING(255),
    "EMAIL" CHARACTER VARYING(255),
    "FECHA_REGISTRO" DATE,
    "NOMBRE" CHARACTER VARYING(255) NOT NULL,
    "TELEFONO" CHARACTER VARYING(255) NOT NULL,
    "DELETED" BOOLEAN DEFAULT FALSE NOT NULL
);
ALTER TABLE "PUBLIC"."CLIENTES" ADD CONSTRAINT "CONSTRAINT_CLIENTES_PK" PRIMARY KEY("CEDULA");
ALTER TABLE "PUBLIC"."CLIENTES" ADD CONSTRAINT "UK_CLIENTES_EMAIL" UNIQUE("EMAIL");

-- 3. Tabla USERS (corregida con enum UserRole correcto)
CREATE TABLE "PUBLIC"."USERS"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "ACTIVE" BOOLEAN NOT NULL,
    "PASSWORD" CHARACTER VARYING(255) NOT NULL,
    "USERNAME" CHARACTER VARYING(255) NOT NULL,
    "EMPLEADO_CEDULA" CHARACTER VARYING(255)
);
ALTER TABLE "PUBLIC"."USERS" ADD CONSTRAINT "CONSTRAINT_USERS_PK" PRIMARY KEY("ID");
ALTER TABLE "PUBLIC"."USERS" ADD CONSTRAINT "UK_USERS_USERNAME" UNIQUE("USERNAME");
ALTER TABLE "PUBLIC"."USERS" ADD CONSTRAINT "UK_USERS_EMPLEADO_CEDULA" UNIQUE("EMPLEADO_CEDULA");

-- 4. Tabla USER_ROLES (corregida con enum UserRole correcto)
CREATE TABLE "PUBLIC"."USER_ROLES"(
    "USER_ID" BIGINT NOT NULL,
    "ROLE" ENUM('GERENTE', 'TI', 'VENDEDOR', 'CONTABILIDAD') NOT NULL
);

-- 5. Tabla SUPLIDOR (sin cambios significativos)
CREATE TABLE "PUBLIC"."SUPLIDOR"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "NCF" CHARACTER VARYING(255),
    "RNC" CHARACTER VARYING(255),
    "CIUDAD" CHARACTER VARYING(255),
    "DIRECCION" CHARACTER VARYING(255),
    "EMAIL" CHARACTER VARYING(255),
    "LATITUD" FLOAT(53),
    "LONGITUD" FLOAT(53),
    "NOMBRE" CHARACTER VARYING(255),
    "ACTIVO" BOOLEAN DEFAULT TRUE NOT NULL,
    "PAIS" CHARACTER VARYING(255)
);
ALTER TABLE "PUBLIC"."SUPLIDOR" ADD CONSTRAINT "CONSTRAINT_SUPLIDOR_PK" PRIMARY KEY("ID");

-- 6. Tabla SUPLIDOR_TELEFONOS
CREATE TABLE "PUBLIC"."SUPLIDOR_TELEFONOS"(
    "SUPLIDOR_ID" BIGINT NOT NULL,
    "TELEFONOS" CHARACTER VARYING(255)
);

-- 7. Tabla PRODUCTO (sin cambios significativos)
CREATE TABLE "PUBLIC"."PRODUCTO"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "CANTIDAD_DISPONIBLE" INTEGER DEFAULT 0 NOT NULL,
    "CANTIDAD_RESERVADA" INTEGER DEFAULT 0 NOT NULL,
    "CODIGO" CHARACTER VARYING(255),
    "DESCRIPCION" CHARACTER VARYING(255),
    "ES_NUEVO" BOOLEAN,
    "ESTADO" ENUM('AGOTADO', 'DESCONTINUADO', 'DISPONIBLE'),
    "FECHA_ACTUALIZACION" TIMESTAMP(6),
    "FECHA_CREACION" TIMESTAMP(6),
    "FOTOURL" CHARACTER VARYING(255),
    "ITBIS" FLOAT(24) NOT NULL,
    "NOMBRE" CHARACTER VARYING(255),
    "PRECIO_COMPRA" NUMERIC(38, 2),
    "PRECIO_VENTA" NUMERIC(38, 2),
    "TIPO" CHARACTER VARYING(255),
    "CANTIDAD_ALMACEN" INTEGER DEFAULT 0 NOT NULL,
    "CANTIDAD_DANADA" INTEGER DEFAULT 0 NOT NULL,
    "CANTIDAD_DEVUELTA" INTEGER DEFAULT 0 NOT NULL,
    "ELIMINADO" BOOLEAN DEFAULT FALSE
);
ALTER TABLE "PUBLIC"."PRODUCTO" ADD CONSTRAINT "CONSTRAINT_PRODUCTO_PK" PRIMARY KEY("ID");

-- 8. Tabla MOVIMIENTOS_PRODUCTO (corregida - sin campo USUARIO redundante, enum corregido)
CREATE TABLE "PUBLIC"."MOVIMIENTOS_PRODUCTO"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "CANTIDAD" INTEGER,
    "FECHA" TIMESTAMP(6),
    "MOTIVO" CHARACTER VARYING(255),
    "TIPO" CHARACTER VARYING(255),
    "PRODUCTO_ID" BIGINT,
    "ID_USUARIO" CHARACTER VARYING(255),
    "TIPO_SIMPLE" ENUM('INGRESO', 'REBAJA', 'TRANSFERENCIA') NOT NULL
);
ALTER TABLE "PUBLIC"."MOVIMIENTOS_PRODUCTO" ADD CONSTRAINT "CONSTRAINT_MOVIMIENTOS_PK" PRIMARY KEY("ID");

-- 9. Tabla TRANSACCIONES (sin cambios significativos)
CREATE TABLE "PUBLIC"."TRANSACCIONES"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "CONDICIONES_PAGO" CHARACTER VARYING(255),
    "CONTRAPARTE_ID" BIGINT NOT NULL,
    "CONTRAPARTE_NOMBRE" CHARACTER VARYING(255) NOT NULL,
    "DIRECCION_ENTREGA" CHARACTER VARYING(500),
    "ESTADO" CHARACTER VARYING(32) NOT NULL,
    "FECHA" TIMESTAMP(6) NOT NULL,
    "FECHA_ACTUALIZACION" TIMESTAMP(6),
    "FECHA_CREACION" TIMESTAMP(6) NOT NULL,
    "FECHA_ENTREGA_ESPERADA" TIMESTAMP(6),
    "FECHA_ENTREGA_REAL" TIMESTAMP(6),
    "IMPUESTOS" NUMERIC(12, 2),
    "METADATOS_PAGO" CHARACTER VARYING,
    "METODO_PAGO" CHARACTER VARYING(255),
    "NUMERO_FACTURA" CHARACTER VARYING(255),
    "NUMERO_ORDEN_COMPRA" CHARACTER VARYING(255),
    "NUMERO_REFERENCIA" CHARACTER VARYING(255),
    "NUMERO_TRANSACCION" CHARACTER VARYING(255),
    "OBSERVACIONES" CHARACTER VARYING(1000),
    "SUBTOTAL" NUMERIC(12, 2),
    "TIPO" ENUM('COMPRA', 'DEVOLUCION_COMPRA', 'DEVOLUCION_VENTA', 'VENTA') NOT NULL,
    "TIPO_CONTRAPARTE" ENUM('CLIENTE', 'SUPLIDOR') NOT NULL,
    "TOTAL" NUMERIC(12, 2) NOT NULL,
    "TRANSACCION_ORIGEN_ID" BIGINT,
    "VENDEDOR_ID" BIGINT,
    "DELETED" BOOLEAN DEFAULT FALSE NOT NULL,
    "MONTO_INICIAL" NUMERIC(12, 2),
    "SALDO_PENDIENTE" NUMERIC(12, 2),
    "TIPO_PAGO" ENUM('ENCUOTAS', 'NORMAL')
);
ALTER TABLE "PUBLIC"."TRANSACCIONES" ADD CONSTRAINT "CONSTRAINT_TRANSACCIONES_PK" PRIMARY KEY("ID");

-- 10. Tabla LINEAS_TRANSACCION
CREATE TABLE "PUBLIC"."LINEAS_TRANSACCION"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "CANTIDAD" INTEGER NOT NULL,
    "DESCUENTO_MONTO" NUMERIC(12, 2),
    "DESCUENTO_PORCENTAJE" NUMERIC(5, 2),
    "IMPUESTO_MONTO" NUMERIC(12, 2),
    "IMPUESTO_PORCENTAJE" NUMERIC(5, 2),
    "OBSERVACIONES" CHARACTER VARYING(500),
    "PRECIO_UNITARIO" NUMERIC(12, 2) NOT NULL,
    "PRODUCTO_ID" BIGINT NOT NULL,
    "PRODUCTO_NOMBRE" CHARACTER VARYING(255) NOT NULL,
    "SUBTOTAL" NUMERIC(12, 2) NOT NULL,
    "TOTAL" NUMERIC(12, 2) NOT NULL,
    "TRANSACCION_ID" BIGINT
);
ALTER TABLE "PUBLIC"."LINEAS_TRANSACCION" ADD CONSTRAINT "CONSTRAINT_LINEAS_TRANSACCION_PK" PRIMARY KEY("ID");

-- 11. Tabla DEVOLUCIONES
CREATE TABLE "PUBLIC"."DEVOLUCIONES"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "ESTADO" ENUM('CANCELADA', 'COMPLETADA', 'PENDIENTE') NOT NULL,
    "FECHA" TIMESTAMP(6) NOT NULL,
    "FECHA_ACTUALIZACION" TIMESTAMP(6),
    "FECHA_CREACION" TIMESTAMP(6) NOT NULL,
    "IMPUESTOS" NUMERIC(12, 2),
    "OBSERVACIONES" CHARACTER VARYING(1000),
    "SUBTOTAL" NUMERIC(12, 2),
    "TOTAL" NUMERIC(12, 2) NOT NULL,
    "TRANSACCION_ORIGEN_ID" BIGINT NOT NULL
);
ALTER TABLE "PUBLIC"."DEVOLUCIONES" ADD CONSTRAINT "CONSTRAINT_DEVOLUCIONES_PK" PRIMARY KEY("ID");

-- 12. Tabla LINEAS_DEVOLUCION
CREATE TABLE "PUBLIC"."LINEAS_DEVOLUCION"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "CANTIDAD" INTEGER NOT NULL,
    "IMPUESTO_MONTO" NUMERIC(12, 2),
    "IMPUESTO_PORCENTAJE" NUMERIC(5, 2),
    "OBSERVACIONES" CHARACTER VARYING(500),
    "PRECIO_UNITARIO" NUMERIC(12, 2) NOT NULL,
    "PRODUCTO_ID" BIGINT NOT NULL,
    "PRODUCTO_NOMBRE" CHARACTER VARYING(255) NOT NULL,
    "SUBTOTAL" NUMERIC(12, 2) NOT NULL,
    "TOTAL" NUMERIC(12, 2) NOT NULL,
    "DEVOLUCION_ID" BIGINT NOT NULL
);
ALTER TABLE "PUBLIC"."LINEAS_DEVOLUCION" ADD CONSTRAINT "CONSTRAINT_LINEAS_DEVOLUCION_PK" PRIMARY KEY("ID");

-- 13. Tabla PAGOS
CREATE TABLE "PUBLIC"."PAGOS"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "ESTADO" ENUM('CANCELADO', 'COMPLETADO', 'PENDIENTE', 'RECHAZADO') NOT NULL,
    "FECHA" DATE NOT NULL,
    "FECHA_ACTUALIZACION" TIMESTAMP(6),
    "FECHA_CREACION" TIMESTAMP(6) NOT NULL,
    "METODO_PAGO" CHARACTER VARYING(255) NOT NULL,
    "MONTO" NUMERIC(12, 2) NOT NULL,
    "NUMERO_CUOTA" INTEGER,
    "OBSERVACIONES" CHARACTER VARYING(500),
    "TRANSACCION_ID" BIGINT NOT NULL
);
ALTER TABLE "PUBLIC"."PAGOS" ADD CONSTRAINT "CONSTRAINT_PAGOS_PK" PRIMARY KEY("ID");

-- ===== CONSTRAINTS Y FOREIGN KEYS =====

-- Constraints de estado para TRANSACCIONES
ALTER TABLE "PUBLIC"."TRANSACCIONES" ADD CONSTRAINT "ESTADO_CHECK"
CHECK("ESTADO" IN('CANCELADA', 'COBRADA', 'COMPLETADA', 'CONFIRMADA', 'ENTREGADA', 'FACTURADA', 'PAGADA', 'PENDIENTE', 'RECIBIDA', 'DEVUELTA', 'PARCIALMENTE_DEVUELTA'));

-- Foreign Keys
ALTER TABLE "PUBLIC"."USERS" ADD CONSTRAINT "FK_USERS_EMPLEADO"
FOREIGN KEY("EMPLEADO_CEDULA") REFERENCES "PUBLIC"."EMPLEADOS"("CEDULA");

ALTER TABLE "PUBLIC"."USER_ROLES" ADD CONSTRAINT "FK_USER_ROLES_USER"
FOREIGN KEY("USER_ID") REFERENCES "PUBLIC"."USERS"("ID");

ALTER TABLE "PUBLIC"."SUPLIDOR_TELEFONOS" ADD CONSTRAINT "FK_SUPLIDOR_TELEFONOS"
FOREIGN KEY("SUPLIDOR_ID") REFERENCES "PUBLIC"."SUPLIDOR"("ID");

ALTER TABLE "PUBLIC"."MOVIMIENTOS_PRODUCTO" ADD CONSTRAINT "FK_MOVIMIENTOS_PRODUCTO"
FOREIGN KEY("PRODUCTO_ID") REFERENCES "PUBLIC"."PRODUCTO"("ID");

ALTER TABLE "PUBLIC"."LINEAS_TRANSACCION" ADD CONSTRAINT "FK_LINEAS_TRANSACCION"
FOREIGN KEY("TRANSACCION_ID") REFERENCES "PUBLIC"."TRANSACCIONES"("ID");

ALTER TABLE "PUBLIC"."LINEAS_DEVOLUCION" ADD CONSTRAINT "FK_LINEAS_DEVOLUCION"
FOREIGN KEY("DEVOLUCION_ID") REFERENCES "PUBLIC"."DEVOLUCIONES"("ID");

ALTER TABLE "PUBLIC"."DEVOLUCIONES" ADD CONSTRAINT "FK_DEVOLUCIONES_TRANSACCION"
FOREIGN KEY("TRANSACCION_ORIGEN_ID") REFERENCES "PUBLIC"."TRANSACCIONES"("ID");

ALTER TABLE "PUBLIC"."PAGOS" ADD CONSTRAINT "FK_PAGOS_TRANSACCION"
FOREIGN KEY("TRANSACCION_ID") REFERENCES "PUBLIC"."TRANSACCIONES"("ID");

-- ===== INSERCIÓN DE DATOS CORREGIDOS =====

-- Datos EMPLEADOS con campo DELETED
INSERT INTO "PUBLIC"."EMPLEADOS" VALUES
('40222022001', 'Brito', 10.0, 'edwin.brito@ejemplo.com', DATE '2025-07-30', 'Edwin', 'COMERCIAL', 25000.0, '809-555-1001', FALSE),
('40222022002', 'Garcia', NULL, 'ana.garcia@ejemplo.com', DATE '2025-07-30', 'Ana', 'ADMIN', 40000.0, '809-555-2002', FALSE),
('40222022003', 'Pérez', NULL, 'juan.perez@ejemplo.com', DATE '2025-07-30', 'Juan', 'TI', 32000.0, '809-555-3003', FALSE),
('40222022004', 'Santos', NULL, 'carla.santos@ejemplo.com', DATE '2025-07-30', 'Carla', 'CAJERO', 18000.0, '809-555-4004', FALSE),
('40222022005', 'Breton', 8.0, 'arturo.breton@ejemplo.com', DATE '2025-07-30', 'Arturo', 'COMERCIAL', 24000.0, '809-555-5005', FALSE);

-- Datos CLIENTES con campo DELETED
INSERT INTO "PUBLIC"."CLIENTES" VALUES
('001-1234567-1', 'Martínez', 'Av. Independencia #100, Santo Domingo', 'pedro.martinez@dominio.com', DATE '2025-07-30', 'Pedro', '829-555-1111', FALSE),
('402-9876543-2', 'Fernández', 'Calle Duarte #55, Santiago', 'luisa.fernandez@dominio.com', DATE '2025-07-30', 'Luisa', '829-555-2222', FALSE),
('003-5555555-3', 'Gómez', 'Calle El Sol #10, La Vega', 'jose.gomez@dominio.com', DATE '2025-07-30', 'José', '829-555-3333', FALSE),
('402-1111000-0', 'Perez', 'Santiago', 'pedro@gmail.com', DATE '2025-07-31', 'Pedro', '809-222-2222', FALSE),
('402-1111000-1', 'Perez', 'Santiago', 'Jean@gmail.com', DATE '2025-07-31', 'Jean', '809-222-2244', FALSE),
('402-1111000-8', 'Alvarez', 'Santiago', 'arturo@gmail.com', DATE '2025-07-31', 'Arturo', '809-222-0000', FALSE),
('402-1111000-9', 'Balbuena', 'Santiago', 'edwin@gmail.com', DATE '2025-07-31', 'Edwin', '809-222-2229', FALSE),
('402-1111001-2', 'Hernandez', 'Santiago', 'Carlos@gmail.com', DATE '2025-07-31', 'Carlos', '809-222-2210', FALSE);

-- Datos USERS
INSERT INTO "PUBLIC"."USERS" VALUES
(13, TRUE, '$2a$10$xzCk1MpllGMfyyilsfwzruA6wb8TSDQs1tuevsuxmVLlnxLyf1W3a', 'edwinbrito', '40222022001'),
(14, TRUE, '$2a$10$EXmSaCR8ppzL.E3QjYmwI.reYGgHiYHHGAxKuDlRwzGIVldPl2GBC', 'edwinb', NULL),
(15, TRUE, '$2a$10$X9UPPQyFKaTnpkO7q3KUAu0AEPAMNGebcfOyVoA3ox4RkyAD4SACi', 'anagarcia', '40222022002'),
(16, TRUE, '$2a$10$e.N78wa93J5ELNIVItJxneGqJiBue/G.0.1SnTYTWLTWj3ZHGHs/O', 'juanperez', '40222022003'),
(17, TRUE, '$2a$10$hjk1yeGFV31MNnUZTTYHiue9AUsEcjfstF5Uk5ebJ0qo3VIZjvPgi', 'jeanp', NULL),
(18, TRUE, '$2a$10$UQaGPEkl0pvAR/CR/z6R5uCB2Ww8v8KNcmxoaSWbu.q/iiJ5YKm.O', 'carlasantos', '40222022004'),
(19, TRUE, '$2a$10$VdkgDNOr0B8vbFOT2PmteunQamKg8v7WgMe12CgMGNHrH7J4VSHha', 'arturob', '40222022005'),
(20, TRUE, '$2a$10$MxGqyC29GxVFSpARTSdjKemf9kiliJ1o.Mmn7qit0CMbSYZxYmYGi', 'adminroot', NULL);

-- Datos USER_ROLES con enum corregido
INSERT INTO "PUBLIC"."USER_ROLES" VALUES
(13, 'VENDEDOR'),
(14, 'VENDEDOR'),
(15, 'GERENTE'),
(16, 'TI'),
(17, 'VENDEDOR'),
(18, 'CONTABILIDAD'),
(19, 'VENDEDOR'),
(20, 'GERENTE');

-- Datos SUPLIDOR
INSERT INTO "PUBLIC"."SUPLIDOR" VALUES
(3, NULL, NULL, 'Santiago', 'Santiago de los Caballeros', 'alonso@gmail.com', NULL, NULL, 'Chambona', TRUE, NULL),
(4, NULL, '91928290919', NULL, NULL, 'ikea@gmail.com', NULL, NULL, 'ikea', TRUE, NULL);

-- Datos SUPLIDOR_TELEFONOS
INSERT INTO "PUBLIC"."SUPLIDOR_TELEFONOS" VALUES
(3, '809-000-0000'),
(3, '809-000-0001');

-- Datos PRODUCTO
INSERT INTO "PUBLIC"."PRODUCTO" VALUES
(4, 4, 13, '83096c2e-b7b7-4694-b614-39e2690f2bb7', '', TRUE, 'DISPONIBLE', TIMESTAMP '2025-08-25 02:10:37.16241', TIMESTAMP '2025-07-30 19:53:50.419536', '/uploads/imagenes/1755746856734.jpg', 0.0, 'Mueble', 5000.00, 10000.00, 'mueble', 3, 3, 2, FALSE),
(5, 0, 0, '2e3147d2-1df1-4ea5-b1aa-b07729b0bca3', '', TRUE, 'DISPONIBLE', TIMESTAMP '2025-08-21 02:08:34.625963', TIMESTAMP '2025-07-31 12:43:43.64373', '/uploads/imagenes/1755635128788.jpg', 0.0, 'Mesa', 500.00, 1000.00, 'mesa', 5, 2, 0, FALSE),
(6, 10, 0, '07f376c2-28a9-4c4a-91df-15184f12f31d', '', NULL, 'DISPONIBLE', TIMESTAMP '2025-08-22 13:14:00.14404', TIMESTAMP '2025-08-18 02:32:14.460194', '/uploads/imagenes/1755498734454.jpg', 0.0, 'Silla A4589', 1000.00, 2000.00, 'silla', 0, 0, 0, FALSE),
(7, 1, 1, '67eee1c0-9223-4da8-967d-391bb0f595a6', '', NULL, 'DISPONIBLE', TIMESTAMP '2025-08-22 22:07:17.210455', TIMESTAMP '2025-08-21 13:19:50.558889', '/uploads/imagenes/1755796883428.png', 0.0, 'Silla Azul', 1200.00, 3000.00, 'silla', 2, 0, 1, FALSE),
(8, -1, 0, '2780fa83-fd81-4231-9303-3f1935600ec3', '', NULL, 'DISPONIBLE', TIMESTAMP '2025-08-23 00:28:25.127018', TIMESTAMP '2025-08-21 13:20:55.150712', '/uploads/imagenes/1755796933136.jpg', 0.0, 'Otoman', 3500.00, 4500.00, 'otoman', 1, 0, 0, FALSE),
(9, 3, 2, 'a8bc58f7-82b5-4ccf-a444-a1ac38717c71', '', NULL, 'DISPONIBLE', TIMESTAMP '2025-08-25 02:11:24.543884', TIMESTAMP '2025-08-21 14:57:04.814476', '/uploads/imagenes/1755802669717.png', 0.0, 'Silla Blanca', 2000.00, 4000.00, 'silla', 0, 0, 0, FALSE);

-- Datos MOVIMIENTOS_PRODUCTO (corregido - sin campo USUARIO)
INSERT INTO "PUBLIC"."MOVIMIENTOS_PRODUCTO" VALUES
(1, 3, TIMESTAMP '2025-08-14 03:29:00.460833', 'Se dañaron', 'disponible_a_danada', 4, NULL, 'TRANSFERENCIA'),
(2, 3, TIMESTAMP '2025-08-14 10:18:36.973586', 'Ingresaron al almacen por obsequio de Chambona', 'ajuste_almacen', 4, NULL, 'INGRESO'),
(3, 3, TIMESTAMP '2025-08-15 00:39:29.668217', 'Porque si', 'disponible_a_almacen', 5, NULL, 'TRANSFERENCIA'),
(4, 1, TIMESTAMP '2025-08-15 00:56:23.041546', 'Josvier la dañó', 'disponible_a_danada', 5, NULL, 'TRANSFERENCIA'),
(5, 1, TIMESTAMP '2025-08-20 23:22:59.438043', 'Se dañó', 'disponible_a_danada', 5, NULL, 'TRANSFERENCIA'),
(6, 2, TIMESTAMP '2025-08-22 12:47:58.294294', '', 'almacen_a_disponible', 9, NULL, 'TRANSFERENCIA'),
(7, 2, TIMESTAMP '2025-08-22 13:07:28.5051', 'Se verificó su estado luego de la devolución y están perfectas', 'devuelta_a_disponible', 9, NULL, 'TRANSFERENCIA'),
(8, 10, TIMESTAMP '2025-08-22 13:14:00.150231', 'Nos regalaron 10 a cortesía de Edwin', 'ajuste_disponible', 6, NULL, 'INGRESO'),
(9, 3, TIMESTAMP '2025-08-22 23:46:44.743331', 'Se han devuelto 3 muebles en perfecta condición', 'devuelta_a_disponible', 4, NULL, 'TRANSFERENCIA');

-- NOTA: Para las demás tablas con muchos datos (TRANSACCIONES, LINEAS_TRANSACCION, etc.),
-- se mantienen los datos del backup original ya que no tienen problemas estructurales significativos.
-- Solo se necesita ejecutar este script para corregir las tablas principales.
